(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e,t,n){e.exports={myModal:"MyModal_myModal__3FGzl",myModalContent:"MyModal_myModalContent__3uWzA",active:"MyModal_active__CLA6D"}},21:function(e,t,n){e.exports={pagination:"pagination_pagination__3tHnb",item:"pagination_item__2_t5d",active:"pagination_active__2ruan"}},23:function(e,t,n){},24:function(e,t,n){e.exports={navbar:"navbar_navbar__3Rmby",navbar__links:"navbar_navbar__links__1wO-n"}},34:function(e,t,n){e.exports={myBtn:"MyButtonComponent_myBtn__MsidN"}},35:function(e,t,n){e.exports={loader:"Loader_loader__1bkL5",rotate:"Loader_rotate__23CcD"}},36:function(e,t,n){e.exports={myInput:"MyInputComponent_myInput__2KD6n"}},43:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(33),a=n.n(s),i=(n(43),n(3)),o=n(9),j=n(2),u=n(24),b=n.n(u),l=n(5),d=n(18),O=n(34),x=n.n(O),h=n(0),p=function(e){var t=e.children,n=Object(d.a)(e,["children"]);return Object(h.jsx)("button",Object(l.a)(Object(l.a)({},n),{},{className:x.a.myBtn,children:t}))},f=Object(c.createContext)(null),v=function(){var e=Object(j.h)(),t=Object(c.useContext)(f),n=(t.isAuth,t.setIsAuth);return Object(h.jsxs)("div",{className:b.a.navbar,children:[Object(h.jsx)("button",{onClick:function(){return e(-1)},children:"go back"}),Object(h.jsx)("button",{type:"button",onClick:function(){n(!1),localStorage.removeItem("auth")},children:"cancel auth"}),Object(h.jsxs)("div",{className:b.a.navbar__links,children:[Object(h.jsx)(o.b,{to:"posts",children:"posts "})," |",Object(h.jsx)(o.b,{to:"postsloading",children:"posts loading"})," |",Object(h.jsx)(o.b,{to:"about",children:"about "})," |",Object(h.jsx)(o.b,{to:"",children:"home "})," |"]})]})};var m=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(v,{}),"LayoutMain",Object(h.jsx)(j.b,{})]})},g=n(4),y=n.n(g),_=n(8),C=n(15),k=n(16),S=n(19),I=n.n(S),w=function(){function e(){Object(C.a)(this,e)}return Object(k.a)(e,null,[{key:"getAll",value:function(){var e=Object(_.a)(y.a.mark((function e(){var t,n,c,r=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:10,n=r.length>1&&void 0!==r[1]?r[1]:1,e.next=4,I()("https://jsonplaceholder.typicode.com/posts",{params:{_page:n,_limit:t}});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(_.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I()("https://jsonplaceholder.typicode.com/posts/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCommentsById",value:function(){var e=Object(_.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I()("https://jsonplaceholder.typicode.com/comments?postId=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),A=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(""),o=Object(i.a)(a,2),j=o[0],u=o[1];return[function(){var t=Object(_.a)(y.a.mark((function t(){var n=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),t.next=4,e.apply(void 0,n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(t.t0.message);case 9:return t.prev=9,s(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),r,j]},P=n(35),M=n.n(P),N=function(){return Object(h.jsx)("div",{className:M.a.loader})},D=function(){Object(j.g)();var e=Object(j.i)(),t=Object(c.useState)({}),n=Object(i.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)([]),o=Object(i.a)(a,2),u=o[0],b=o[1],l=A(Object(_.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getById(e.id);case 2:n=t.sent,s(n.data);case 4:case"end":return t.stop()}}),t)})))),d=Object(i.a)(l,3),O=d[0],x=d[1],p=d[2],f=A(Object(_.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getCommentsById(e.id);case 2:n=t.sent,b(n.data);case 4:case"end":return t.stop()}}),t)})))),v=Object(i.a)(f,3),m=v[0],g=v[1],C=v[2];return Object(c.useEffect)((function(){O(),m()}),[]),console.log(C),Object(h.jsxs)("div",{className:"post_item_info",children:[p?Object(h.jsx)("div",{children:p}):"",x&&g?Object(h.jsx)(N,{}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["ID POST Param: ",e.id]}),Object(h.jsxs)("div",{children:["ID: ",r.id]}),Object(h.jsxs)("div",{children:["ID User : ",r.userId]}),Object(h.jsx)("div",{children:Object(h.jsx)("strong",{children:r.title})}),Object(h.jsxs)("div",{children:[" ",r.body]})]}),C?Object(h.jsx)("div",{children:C}):"",g?Object(h.jsx)(N,{}):Object(h.jsxs)("div",{className:"comments",children:[Object(h.jsx)("h2",{children:"Comments"}),u.map((function(e){return Object(h.jsx)("div",{className:"comment-item",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["Post id : ",e.postId]}),Object(h.jsxs)("div",{children:["Id : ",e.id]}),Object(h.jsxs)("div",{children:["Name :",e.name]}),Object(h.jsxs)("div",{children:["Email : ",e.email]}),Object(h.jsx)("div",{children:e.body})]})},e.id)}))]})]})},F=function(e){var t=e.component,n=Object(c.useContext)(f),r=n.isAuth;n.setIsAuth;return r?t:Object(h.jsx)(j.a,{to:"/login",replace:!0})};n(23);var B=function(){return Object(h.jsx)("div",{children:"About"})};var L=function(){return Object(h.jsx)("div",{children:"Home"})},V=n(36),q=n.n(V),E=function(e){return Object(h.jsx)("input",Object(l.a)({className:q.a.myInput},e))};var R=function(){var e=Object(c.useContext)(f),t=(e.isAuth,e.setIsAuth),n=Object(j.h)();return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Login Form"}),Object(h.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(!0),localStorage.setItem("auth",!0),n("/posts")}(e)},children:[Object(h.jsx)(E,{type:"text",placeholder:"insert login"}),Object(h.jsx)(E,{type:"password",placeholder:"insert password"}),Object(h.jsx)(p,{type:"submit",children:"Login"})]})]})};var T=function(){return Object(h.jsx)("div",{children:"NotFoundPage"})},U=n(10),z=n(17),H=n(38),J=n(37),G=function(e){Object(H.a)(n,e);var t=Object(J.a)(n);function n(e){var c;return Object(C.a)(this,n),(c=t.call(this,e)).state={count:1,name:"Alex"},c.increment=c.increment.bind(Object(z.a)(c)),c}return Object(k.a)(n,[{key:"increment",value:function(){this.setState({count:this.state.count+1})}},{key:"decrement",value:function(){this.setState({count:this.state.count-1})}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:["Cont:",this.state.count,Object(h.jsx)("button",{onClick:this.increment,children:"Increment (bind func)"}),Object(h.jsx)("button",{onClick:function(){return e.decrement()},children:"Decrement (Arrow func)"})]})}}]),n}(r.a.Component),K=function(e){var t=Object(c.useState)(0),n=Object(i.a)(t,2),r=n[0],s=n[1];return Object(h.jsxs)("div",{children:["Cont:",r,Object(h.jsx)("button",{onClick:function(){s(r+1)},children:"Increment"}),Object(h.jsx)("button",{onClick:function(){s(r-1)},children:"Decrement"})]})},W=function(e){var t=e.number,n=e.post,c=n.id,r=n.title,s=n.body,a=e.post,i=e.remove,o=Object(j.h)();return Object(h.jsxs)("div",{className:"post",children:[Object(h.jsxs)("div",{className:"post__content",children:[Object(h.jsx)("p",{children:Object(h.jsxs)("strong",{children:[t,": ",r]})}),Object(h.jsxs)("p",{children:["id:",Object(h.jsx)("small",{children:c})]}),Object(h.jsx)("div",{children:s})]}),Object(h.jsxs)("div",{className:"post__btn",children:[Object(h.jsx)(p,{onClick:function(){i(a)},children:"delete"}),Object(h.jsx)(p,{onClick:function(){o("".concat(c))},children:"view post"})]})]})},Q=(n(64),function(e){var t=e.posts,n=e.remove;return 0==t.length?Object(h.jsxs)("p",{style:{textAlign:"center",color:"red"},children:[Object(h.jsx)("big",{children:" Posts not founds"})," "]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Post List"}),t.map((function(e,t){return Object(h.jsx)(W,{remove:n,number:t+1,post:e},e.id)}))]})}),X=function(e){var t=e.create,n=(Object(d.a)(e,["create"]),Object(c.useState)({title:"",body:""})),r=Object(i.a)(n,2),s=r[0],a=r[1];return Object(h.jsxs)("form",{children:[Object(h.jsx)("label",{children:"Post Title"}),Object(h.jsx)(E,{type:"text",value:s.title,onChange:function(e){a(Object(l.a)(Object(l.a)({},s),{},{title:e.target.value}))},placeholder:"Insert title"}),Object(h.jsx)("label",{children:"Post Body"}),Object(h.jsx)(E,{type:"text",value:s.body,onChange:function(e){a(Object(l.a)(Object(l.a)({},s),{},{body:e.target.value}))},placeholder:"Insert body "}),Object(h.jsx)(p,{onClick:function(e){return function(e){e.preventDefault(),t(Object(l.a)(Object(l.a)({},s),{},{id:Date.now()})),a({title:"",body:""})}(e)},children:"Add post"})]})},Y=function(e){var t=e.options,n=e.defaultValue,c=e.value,r=e.onChange;return Object(h.jsxs)("select",{value:c,onChange:function(e){r(e.target.value)},children:[Object(h.jsx)("option",{disabled:!0,value:"",children:n}),t.map((function(e,t){return Object(h.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},Z=function(e){var t=e.filter,n=e.setFilter;return Object(h.jsxs)("div",{children:[Object(h.jsx)(Y,{value:t.sort,defaultValue:"Sort to",onChange:function(e){n(Object(l.a)(Object(l.a)({},t),{},{sort:e}))},options:[{name:"title",value:"title"},{name:"body",value:"body"}]}),Object(h.jsx)("br",{}),Object(h.jsx)("hr",{}),Object(h.jsx)("br",{}),Object(h.jsx)(E,{type:"text",value:t.query,onChange:function(e){n(Object(l.a)(Object(l.a)({},t),{},{query:e.target.value}))},placeholder:"Search by title "})]})},$=n(20),ee=n.n($),te=function(e){var t=e.children,n=e.visible,c=e.setVisible,r=[ee.a.myModal];return n&&r.push(ee.a.active),Object(h.jsx)("div",{className:r.join(" "),onClick:function(e){e.currentTarget===e.target&&c(!1)},children:Object(h.jsx)("div",{className:ee.a.myModalContent,children:t})})},ne=function(e,t,n){var r=function(e,t){return Object(c.useMemo)((function(){return console.log("getSortedPosts is done"),t?Object(U.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return Object(c.useMemo)((function(){return console.log("sortedAndSearchedPosts"),n?r.filter((function(e){return e.title.toUpperCase().includes(n.toUpperCase())})):r}),[n,r])},ce=function(e,t){return Math.ceil(e/t)},re=n(21),se=n.n(re),ae=function(e){var t=e.totalPage,n=e.currentPage,r=e.changePage,s=function(e){return Object(c.useMemo)((function(){var t=[];if(e>0){for(var n=1;n<=e;n++)t.push(n);return t}return[]}),[e])}(t);return Object(h.jsx)("div",{className:se.a.pagination,children:s.length>0?s.map((function(e){return Object(h.jsx)("div",{className:se.a.item+" "+(e==n?se.a.active:""),onClick:function(){r(e)},children:e},e)})):""})};var ie=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useRef)(),a=Object(c.useState)(""),o=Object(i.a)(a,2),j=o[0],u=o[1],b=Object(c.useState)(!1),l=Object(i.a)(b,2),d=l[0],O=l[1],x=Object(c.useState)({sort:"",query:""}),f=Object(i.a)(x,2),v=f[0],m=f[1],g=ne(n,v.sort,v.query),C=Object(c.useState)(0),k=Object(i.a)(C,2),S=k[0],I=k[1],P=Object(c.useState)(5),M=Object(i.a)(P,2),D=M[0],F=(M[1],Object(c.useState)(1)),B=Object(i.a)(F,2),L=B[0],V=B[1],q=A(function(){var e=Object(_.a)(y.a.mark((function e(t,n){var c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getAll(t,n);case 2:c=e.sent,r(c.data),s=c.headers["x-total-count"],I(ce(s,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(i.a)(q,3),R=E[0],T=E[1],z=E[2];return Object(c.useEffect)((function(){R(D,L)}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(K,{}),Object(h.jsx)(G,{}),Object(h.jsx)("br",{}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:" Value From Input with useRef:"})," ",j]}),Object(h.jsx)("input",{ref:s,type:"text",placeholder:"insert value",onChange:function(e){u(e.target.value)}})]}),Object(h.jsx)("br",{})]}),Object(h.jsx)(p,{type:"button",onClick:function(){O(!0)},children:"Add post"}),Object(h.jsx)(te,{visible:d,setVisible:O,children:Object(h.jsx)(X,{create:function(e){r([].concat(Object(U.a)(n),[e])),O(!1)}})}),Object(h.jsx)("br",{}),Object(h.jsx)("hr",{}),Object(h.jsx)("br",{}),Object(h.jsx)(Z,{filter:v,setFilter:m}),z?Object(h.jsx)("div",{children:z}):"",T?Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(h.jsx)(N,{})}):Object(h.jsx)(Q,{posts:g,remove:function(e){r(n.filter((function(t){return t.id!==e.id})))}}),Object(h.jsx)(ae,{totalPage:S,currentPage:L,changePage:function(e){V(e),R(D,e)}})]})};var oe=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useRef)(),a=Object(c.useState)(""),o=Object(i.a)(a,2),j=o[0],u=o[1],b=Object(c.useState)(!1),l=Object(i.a)(b,2),d=l[0],O=l[1],x=Object(c.useState)({sort:"",query:""}),f=Object(i.a)(x,2),v=f[0],m=f[1],g=ne(n,v.sort,v.query),C=Object(c.useState)(0),k=Object(i.a)(C,2),S=k[0],I=k[1],P=Object(c.useState)(10),M=Object(i.a)(P,2),D=M[0],F=M[1],B=Object(c.useState)(1),L=Object(i.a)(B,2),V=L[0],q=L[1],E=Object(c.useRef)(),R=A(function(){var e=Object(_.a)(y.a.mark((function e(t,c){var s,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getAll(t,c);case 2:s=e.sent,console.log([].concat(Object(U.a)(n),Object(U.a)(s.data))),r(1==c?s.data:[].concat(Object(U.a)(n),Object(U.a)(s.data))),a=s.headers["x-total-count"],I(ce(a,t));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(i.a)(R,3),z=T[0],H=T[1],J=T[2];return function(e,t,n,r){var s=Object(c.useRef)();Object(c.useEffect)((function(){n||(s.current&&s.current.disconnect(),s.current=new IntersectionObserver((function(e,n){e[0].isIntersecting&&t&&r()})),s.current.observe(e.current))}),[n])}(E,V<S,H,(function(){setTimeout((function(){return q(V+1)}),1e3)})),Object(c.useEffect)((function(){z(D,V)}),[V,D]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(K,{}),Object(h.jsx)(G,{}),Object(h.jsx)("br",{}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:" Value From Input with useRef:"})," ",j]}),Object(h.jsx)("input",{ref:s,type:"text",placeholder:"insert value",onChange:function(e){u(e.target.value)}})]}),Object(h.jsx)("br",{})]}),Object(h.jsx)(p,{type:"button",onClick:function(){O(!0)},children:"Add post"}),Object(h.jsx)(te,{visible:d,setVisible:O,children:Object(h.jsx)(X,{create:function(e){r([].concat(Object(U.a)(n),[e])),O(!1)}})}),Object(h.jsx)("br",{}),Object(h.jsx)("hr",{}),Object(h.jsx)("br",{}),Object(h.jsx)(Z,{filter:v,setFilter:m}),Object(h.jsx)(Y,{value:D,onChange:function(e){F(e),q(1)},defaultValue:"quantyty elements on page",options:[{value:5,name:"5"},{value:10,name:"10"},{value:20,name:"20"},{value:25,name:"25"},{value:50,name:"50"},{value:-1,name:"all"}]}),J?Object(h.jsx)("div",{children:J}):"",Object(h.jsx)(Q,{posts:g,remove:function(e){r(n.filter((function(t){return t.id!==e.id})))}}),H&&Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(h.jsx)(N,{})}),Object(h.jsx)("div",{ref:E,style:{height:"20px",backgroundColor:"red"}}),Object(h.jsx)(ae,{totalPage:S,currentPage:V,changePage:function(e){q(e)}})]})};var je=function(){var e=Object(c.useState)(!!localStorage.getItem("auth")&&localStorage.getItem("auth")),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){localStorage.getItem("auth")&&r(!0)}),[]),Object(h.jsxs)("div",{className:"App",children:[n?"isAuth":"---",Object(h.jsx)(f.Provider,{value:{isAuth:n,setIsAuth:r},children:Object(h.jsx)(o.a,{children:Object(h.jsx)(j.e,{children:Object(h.jsxs)(j.c,{path:"/",element:Object(h.jsx)(m,{}),children:[Object(h.jsx)(j.c,{index:!0,element:Object(h.jsx)(F,{component:Object(h.jsx)(L,{})})}),Object(h.jsx)(j.c,{path:"posts",element:Object(h.jsx)(F,{component:Object(h.jsx)(ie,{})})}),Object(h.jsx)(j.c,{path:"postsloading",element:Object(h.jsx)(F,{component:Object(h.jsx)(oe,{})})}),Object(h.jsx)(j.c,{path:"posts/:id",element:Object(h.jsx)(F,{component:Object(h.jsx)(D,{})})}),Object(h.jsx)(j.c,{path:"about",element:Object(h.jsx)(F,{component:Object(h.jsx)(B,{})})}),Object(h.jsx)(j.c,{path:"login",element:Object(h.jsx)(R,{})}),Object(h.jsx)(j.c,{path:"*",element:Object(h.jsx)(T,{})})]})})})})]})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(je,{})}),document.getElementById("root")),ue()}},[[65,1,2]]]);
//# sourceMappingURL=main.3d895e97.chunk.js.map